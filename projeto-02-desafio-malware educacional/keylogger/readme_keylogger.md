# üïµÔ∏è M√≥dulo Keylogger Simulado (Captura Furtiva e Exfiltra√ß√£o)

Este m√≥dulo demonstra duas implementa√ß√µes de Keylogger em Python, focando na **captura de eventos de teclado** e na **exfiltra√ß√£o** (roubo e envio) dos dados coletados para um e-mail de teste. Este c√≥digo √© para fins **EXCLUSIVAMENTE EDUCACIONAIS** e para estudo de **seguran√ßa defensiva**.

## ‚ö†Ô∏è AVISO DE SEGURAN√áA E USO

Este script deve ser executado **apenas em ambientes controlados, m√°quinas virtuais ou sandboxes**. √â proibido o uso deste c√≥digo em qualquer sistema real ou para fins maliciosos. O objetivo √© entender a amea√ßa para desenvolver defesas mais robustas.

## ‚öôÔ∏è Arquivos e Funcionamento Interno

| Arquivo | Fun√ß√£o Principal | Mecanismo de Funcionamento |
| :--- | :--- | :--- |
| `keylogger.pyw` | Captura Local | [cite_start]Utiliza a biblioteca `pynput` [cite: 4] para registrar teclas pressionadas. [cite_start]Ignora teclas modificadoras (Shift, Ctrl, Alt) [cite: 4] [cite_start]e armazena os dados em um *buffer*[cite: 4]. [cite_start]Salva o conte√∫do no arquivo `log.txt` quando o *buffer* est√° cheio ou quando a tecla **[ENTER]** √© pressionada[cite: 6, 8]. |
| `keylogger-email.pyw` | Exfiltra√ß√£o e Agendamento | [cite_start]Implementa a mesma captura (`pynput`) e adiciona a funcionalidade de envio autom√°tico de e-mail. [cite_start]O log capturado √© enviado para o destinat√°rio a cada **60 segundos** usando `smtplib` e `MIMEText`[cite: 9, 11]. |
| `log.txt` | Arquivo de Log | [cite_start]Arquivo de texto onde as teclas capturadas s√£o salvas[cite: 5]. [cite_start]Cont√©m marca√ß√µes para teclas especiais (ex: `[ENTER]`, `[BACKSPACE]`)[cite: 6, 7]. |

## üîë Passo a Passo da Simula√ß√£o (Em Ambiente Sandboxed)

### 1. Prepara√ß√£o

1.  Garanta que as depend√™ncias `pynput` e m√≥dulos de e-mail estejam instalados (`requirements.txt`).
2.  **Configura√ß√£o de E-mail (Apenas para `keylogger-email.pyw`):**
    * Voc√™ deve ter configurado uma conta de e-mail **secund√°ria** para testes.
    * **Gere uma Senha de Aplicativo** (*App Password*) no seu provedor de e-mail.
    * [cite_start]O c√≥digo utiliza: `EMAIL_ORIGIN`, `EMAIL_DESTINY` e a `EMAIL_PASSWORD` (Senha de Aplicativo).

### 2. Execu√ß√£o (Op√ß√£o 1: Captura Local)

Este modo apenas salva o log localmente, √∫til para testes iniciais de captura:

```bash
python keylogger.pyw

Pressione algumas teclas e use ENTER (o ENTER for√ßa o salvamento do buffer no log.txt).

Verifique o arquivo log.txt na mesma pasta para ver as teclas capturadas.

Interrompa o script (pode ser necess√°rio fechar a janela do console ou usar o Gerenciador de Tarefas).

3. Execu√ß√£o (Op√ß√£o 2: Captura com Exfiltra√ß√£o)
Este modo simula o roubo de dados e envio a cada 60 segundos:

```bash

python keylogger-email.pyw


Ap√≥s a execu√ß√£o, digite frases de teste (ex: credenciais, dados banc√°rios simulados).

O script enviar√° o log acumulado para o e-mail de destino configurado a cada 60 segundos.

Verifique a caixa de entrada do e-mail de destino para confirmar a exfiltra√ß√£o do log.

Interrompa o script (o Keylogger roda em thread e usa um Listener, ent√£o pode exigir a interrup√ß√£o manual do processo).

üõ°Ô∏è Defesa e An√°lise Comportamental
A simula√ß√£o mostra que o Keylogger tem duas vulnerabilidades principais que podemos explorar defensivamente:

Comportamento: O script precisa criar um hook de baixo n√≠vel no sistema operacional para interceptar as teclas (fun√ß√£o do pynput).

Mitiga√ß√£o: Antiv√≠rus Comportamentais (EDR) s√£o projetados para detectar e bloquear esse tipo de hook de sistema, mesmo que o arquivo n√£o tenha uma assinatura de malware conhecida.


Exfiltra√ß√£o: O script de e-mail tenta abrir uma conex√£o SMTP e fazer login.

Mitiga√ß√£o: Um Firewall bem configurado ou uma solu√ß√£o de IPS (Intrusion Prevention System) deve monitorar e bloquear o tr√°fego de sa√≠da incomum (Comando e Controle - C2) de programas sem autoriza√ß√£o (como o Python) tentando se conectar a servidores de e-mail externos.

Feito com üíñ por lorac-2 